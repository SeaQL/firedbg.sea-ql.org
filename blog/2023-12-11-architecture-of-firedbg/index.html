<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Architecture of FireDBG | FireDBG - ðŸ”¥ Time Travel Visual Debugger for Rust</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://firedbg.sea-ql.org/blog/2023-12-11-architecture-of-firedbg/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Architecture of FireDBG | FireDBG - ðŸ”¥ Time Travel Visual Debugger for Rust"><meta data-rh="true" name="description" content="Under the hood of FireDBG"><meta data-rh="true" property="og:description" content="Under the hood of FireDBG"><meta data-rh="true" property="og:image" content="https://firedbg.sea-ql.org/img/dataflow-dark.png"><meta data-rh="true" name="twitter:image" content="https://firedbg.sea-ql.org/img/dataflow-dark.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-12-11T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/tyt2y3"><meta data-rh="true" property="article:tag" content="news"><link data-rh="true" rel="icon" href="/favicon.ico"><link data-rh="true" rel="canonical" href="https://firedbg.sea-ql.org/blog/2023-12-11-architecture-of-firedbg/"><link data-rh="true" rel="alternate" href="https://firedbg.sea-ql.org/blog/2023-12-11-architecture-of-firedbg/" hreflang="en"><link data-rh="true" rel="alternate" href="https://firedbg.sea-ql.org/blog/2023-12-11-architecture-of-firedbg/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="FireDBG - ðŸ”¥ Time Travel Visual Debugger for Rust RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="FireDBG - ðŸ”¥ Time Travel Visual Debugger for Rust Atom Feed">




<script src="/firedbg.js"></script><link rel="stylesheet" href="/assets/css/styles.296a0f0d.css">
<link rel="preload" href="/assets/js/runtime~main.5bb9c14b.js" as="script">
<link rel="preload" href="/assets/js/main.e472afdc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/FireDBG.png" alt="FireDBG Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/FireDBG.png" alt="FireDBG Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">FireDBG</b></a><a class="navbar__item navbar__link" href="/install/">Install</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://marketplace.visualstudio.com/items?itemName=SeaQL.firedbg-rust" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">VS Code<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/SeaQL/FireDBG.for.Rust" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All Posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023-12-13-getting-started/">Getting Started</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2023-12-12-introducing-firedbg/">Introducing FireDBG for Rust</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2023-12-11-architecture-of-firedbg/">Architecture of FireDBG</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Under the hood of FireDBG"><link itemprop="image" href="https://firedbg.sea-ql.org/img/dataflow-dark.png"><header><h1 class="title_f1Hy" itemprop="headline">Architecture of FireDBG</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-12-11T00:00:00.000Z" itemprop="datePublished">December 11, 2023</time> Â· <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">FireDBG Team</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="under-the-hood-of-firedbg">Under the hood of FireDBG<a href="#under-the-hood-of-firedbg" class="hash-link" aria-label="Direct link to Under the hood of FireDBG" title="Direct link to Under the hood of FireDBG">â€‹</a></h2><table><tbody><tr style="background-color:unset"><td><img style="width:100%" src="/img/components-light.png#light"><img style="width:100%" src="/img/components-dark.png#dark"></td></tr><tr style="background-color:unset"><td style="color:var(--ifm-blockquote-color)">Component diagram of FireDBG</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="firedbg-cli"><code>firedbg-cli</code><a href="#firedbg-cli" class="hash-link" aria-label="Direct link to firedbg-cli" title="Direct link to firedbg-cli">â€‹</a></h3><p><code>firedbg-cli</code> drives everything. It acts as a proxy to <code>cargo</code>, so a <code>cargo run</code> command becomes <code>firedbg run</code>, <code>cargo test</code> becomes <code>firedbg test</code> and so on. <code>firedbg-cli</code> also relies on <code>cargo</code> to list all the executable targets shown in the &quot;Run and Debug&quot; tab of VS Code.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="parser"><code>parser</code><a href="#parser" class="hash-link" aria-label="Direct link to parser" title="Direct link to parser">â€‹</a></h3><p><code>firedbg-parser</code> parses all source files in the workspace and outputs a symbol table per file. These <code>.map</code> files are cached, so they will be reused if the source files are unchanged since the last parse.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="debugger"><code>debugger</code><a href="#debugger" class="hash-link" aria-label="Direct link to debugger" title="Direct link to debugger">â€‹</a></h3><p><code>firedbg-debugger</code> is the debugging engine of FireDBG. It is configured according to <code>firedbg.toml</code>. The debugger drives the target process via <code>lldb</code> and streams the breakpoint events in real-time. The output file, with the extension <code>.firedbg.ss</code>, follows the binary file format defined in <a href="https://github.com/SeaQL/sea-streamer#sea-streamer-file-file-backend" target="_blank" rel="noopener noreferrer">SeaStreamer File</a>.</p><p>It sometimes uses <code>rustc</code> on the host for miscellaneous things.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="indexer"><code>indexer</code><a href="#indexer" class="hash-link" aria-label="Direct link to indexer" title="Direct link to indexer">â€‹</a></h3><p><code>firedbg-indexer</code> is a streaming indexer. It can stream events from the <code>.firedbg.ss</code> file and process them in real-time. It outputs a <code>.sqlite</code> file with the same name, using <a href="https://github.com/SeaQL/sea-orm" target="_blank" rel="noopener noreferrer">SeaORM</a> to drive SQLite. The index enables the GUI to quickly look up the call chain and frame info.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mode-of-operation">Mode of operation<a href="#mode-of-operation" class="hash-link" aria-label="Direct link to Mode of operation" title="Direct link to Mode of operation">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h3><table><tbody><tr style="background-color:unset"><td><img style="width:100%" src="/img/dataflow-light.png#light"><img style="width:100%" src="/img/dataflow-dark.png#dark"></td></tr><tr style="background-color:unset"><td style="color:var(--ifm-blockquote-color)">Data flow diagram of FireDBG</td></tr></tbody></table><p>The basic idea of FireDBG is to automate the actions done by a user on a debugger CLI/TUI/GUI. For example, a user would usually set some breakpoints at some strategic locations and inspect all local variables every time a breakpoint is hit. FireDBG does the same! But our goal is to make each breakpoint hit as brief as possible, in order to keep the program-under-debug running in real-time. This is important because some resources like sockets and timers are time sensitive.</p><p>This mode of operation is called &quot;galloping&quot;<sup id="fnref-1-85348e"><a href="#fn-1-85348e" class="footnote-ref">1</a></sup>, as it only breaks on user code - library code and system calls are all skipped. In other words, the call tree we construct is not the full process call tree; it&#x27;s down-sampled. In theory, we can use a VM to execute and record<sup id="fnref-2-85348e"><a href="#fn-2-85348e" class="footnote-ref">2</a></sup> the process, then run it through FireDBG to condense the data.</p><p>The thesis is: &quot;too much details obfuscate our understanding&quot;, and more often than not, we want to see the big picture. FireDBG lays out the call tree on a plane, so our brain can make sense of the two-dimensional space. The UX of the GUI is designed based on modern interactive maps<sup id="fnref-3-85348e"><a href="#fn-3-85348e" class="footnote-ref">3</a></sup>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="static-analysis">Static Analysis<a href="#static-analysis" class="hash-link" aria-label="Direct link to Static Analysis" title="Direct link to Static Analysis">â€‹</a></h3><p>We parse the Rust source files with <code>syn</code>, looking for all functions, methods, and trait implementation blocks. The location and span of these functions are then dumped into <code>.map</code> files. In the future, we&#x27;re hoping to support constructing a static call graph, so as to allow the debugger to only set breakpoints at functions reachable from <code>main</code> (or the program entry point, whatever it is).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="runtime-debugging">Runtime Debugging<a href="#runtime-debugging" class="hash-link" aria-label="Direct link to Runtime Debugging" title="Direct link to Runtime Debugging">â€‹</a></h3><p>On startup, the symbol tables are read. After loading the target executable into memory, the debugger loads the corresponding symbol tables and set breakpoints at those functions according to the configuration. We also set breakpoints on the panic handler and heap allocators.</p><p>The program will then be run. The debugger keeps a logical stack model for each thread. On each function call, a new frame ID will be assigned. The tuple (thread ID, frame ID, function call) uniquely identifies any point in program execution.</p><p>When a function is first called, we disassemble it. Then breakpoints are set at all <code>ret</code> instructions, so that whenever the function returns, the breakpoints will be hit, and a function return event is recorded. (We also cache the <code>SBType</code> definition of the function, with which the function return handler can salvage the return value from the registers, but this is an implementation detail). All parameters of the function are captured once the program has gone past the prologue<sup id="fnref-4-85348e"><a href="#fn-4-85348e" class="footnote-ref">4</a></sup>.</p><p>All breakpoint events happening meanwhile will be tagged with the current frame ID in the current thread.</p><p>All events will be streamed out in real-time. The format of the stream events is defined in <a href="https://github.com/SeaQL/FireDBG.for.Rust/blob/main/protocol" target="_blank" rel="noopener noreferrer"><code>firedbg-protocol</code></a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="multi-threading">Multi-threading<a href="#multi-threading" class="hash-link" aria-label="Direct link to Multi-threading" title="Direct link to Multi-threading">â€‹</a></h4><p>It is actually possible to debug multiple threads by hand using a conventional GUI debugger, you just need to know this one trick ;)</p><p>Multiple threads can be hitting the same breakpoint at the same time, so we need to inspect all the threads each time a breakpoint is hit. We look at the PC address to determine whether this thread was actually paused on a breakpoint, and if so, record the event. All threads are resumed as soon as possible.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="value-capture">Value Capture<a href="#value-capture" class="hash-link" aria-label="Direct link to Value Capture" title="Direct link to Value Capture">â€‹</a></h3><p>Value capture is currently done via <code>lldb</code>&#x27;s excellent <code>SBValue</code> / <code>SBType</code> API. There are some edge cases, particularly around Rust&#x27;s &quot;complex enums&quot; aka union types. There are many hacks<sup id="fnref-5-85348e"><a href="#fn-5-85348e" class="footnote-ref">5</a></sup> done by <a href="https://github.com/SeaQL/FireDBG.for.Rust/blob/main/debugger/src/debugger.rs" target="_blank" rel="noopener noreferrer"><code>firedbg-debugger</code></a> to <a href="https://github.com/SeaQL/FireDBG.for.Rust/blob/main/debugger/src/value/writer.rs" target="_blank" rel="noopener noreferrer">capture various Rust standard types</a>, including but not limited to <code>Vec&lt;u8&gt;</code>, <code>&amp;str</code>, <code>&amp;dyn T</code>, <code>Rc/Arc</code>, <code>HashMap</code>.</p><p><a href="https://github.com/SeaQL/FireDBG.for.Rust/blob/main/debugger/src/debugger/return_value.rs" target="_blank" rel="noopener noreferrer">Return value capture</a> is currently done by looking at the return type and guessing where it will be placed at, registers or stack, and salvage the value. More ideally, we would query the call convention and extract accordingly.</p><p>All values are serialized as binary blobs in native endian. There are several motivations: 1) faithfulness 2) avoiding floating point and utf-8 idiosyncrasies<sup id="fnref-6-85348e"><a href="#fn-6-85348e" class="footnote-ref">6</a></sup> 3) avoiding serialization to strings which is slow 4) smaller file size.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-index">Event Index<a href="#event-index" class="hash-link" aria-label="Direct link to Event Index" title="Direct link to Event Index">â€‹</a></h3><p>The indexer reconstructs the call stack for each thread from the event stream. It then represents the call trees in SQL by self-references<sup id="fnref-7-85348e"><a href="#fn-7-85348e" class="footnote-ref">7</a></sup>. It also performs basic analysis like counting hits for each breakpoint.</p><p>The indexer deserializes the value blobs and transforms them into pretty-printed strings and JSON. They will then be queried by the GUI for display and visualization.</p><p>The <a href="https://github.com/SeaQL/FireDBG.for.Rust/blob/main/indexer/src/entity/" target="_blank" rel="noopener noreferrer">SeaORM schema</a> is defined in <a href="https://github.com/SeaQL/FireDBG.for.Rust/blob/main/indexer/" target="_blank" rel="noopener noreferrer"><code>firedbg-indexer</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="parallelism">Parallelism<a href="#parallelism" class="hash-link" aria-label="Direct link to Parallelism" title="Direct link to Parallelism">â€‹</a></h2><table><tbody><tr style="background-color:unset"><td><img style="width:100%" src="/img/parallelism-light.png#light"><img style="width:100%" src="/img/parallelism-dark.png#dark"></td></tr><tr style="background-color:unset"><td style="color:var(--ifm-blockquote-color)">Parallelism in FireDBG; outer boxes: processes; inner boxes: threads</td></tr></tbody></table><p>A lot of effort has been put in making FireDBG to improve responsiveness. The previous diagram shows the pipeline where data is streamed real-time. This diagram gives a different perspective: how the components work in parallel.</p><p>The Debugger, Indexer and GUI are separate processes, and each uses multiple threads for stream producer and consumer. Except in node.js the streamer is a subprocess instead of a thread.</p><p>The Call Tree Renderer is incremental: nodes are added on canvas as they arrive.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="support-for-other-languages">Support for other languages<a href="#support-for-other-languages" class="hash-link" aria-label="Direct link to Support for other languages" title="Direct link to Support for other languages">â€‹</a></h2><p>Our vision is to bring FireDBG to <em>all</em> programming languages. Some possible candidates are:</p><ul><li>C++: supported by <code>lldb</code>; but it is difficult to distinguish user code from library code</li><li>Swift: supported by <code>lldb</code>; but need to support a lot of Apple system stuff</li><li>Go: <code>delve</code> seems very API drivable!</li><li>node.js: we can use the DevTools Protocol</li><li>Python: <code>debugpy</code> seems very promising</li><li>Your favourite language: suggestions are welcome!</li></ul><p>When designing this architecture, we have been keeping in mind how we&#x27;d piece in other languages. Each language would have its own <code>firedbg-xxx-debugger</code>, outputting the same <code>.firedbg.ss</code> stream protocol. Primitives can more or less be shared so we can reuse the same <code>PValue</code>. <code>RValue</code> actually stands for &quot;Rust Value&quot;, so you can assume we&#x27;d have <code>GoValue</code> for Go, <code>JsValue</code> for Javascript, etc.</p><p>We will ship multiple <code>indexer</code> binaries, but they will likely share the same codebase.</p><p>The CLI will be each implemented in its own language.</p><p>The GUI will all share the same codebase, but of course each language will have its own VS Code extension.</p><p>Rust probably has the most complex type system<sup id="fnref-8-85348e"><a href="#fn-8-85348e" class="footnote-ref">8</a></sup>, hopefully it will not get much more complicated than what we have already implemented.</p><p>The async programming model should be similar among languages, so we should be able to visualize them under the same model.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pure-functional-languages">Pure functional languages<a href="#pure-functional-languages" class="hash-link" aria-label="Direct link to Pure functional languages" title="Direct link to Pure functional languages">â€‹</a></h3><p>The call tree visualization is universal to all programming languages<sup id="fnref-9-85348e"><a href="#fn-9-85348e" class="footnote-ref">9</a></sup>. Other than that I have not thought about other parts yet.</p><div class="footnotes"><hr><ol><li id="fn-1-85348e">Or &quot;tiptoeing&quot;, which is better?<a href="#fnref-1-85348e" class="footnote-backref">â†©</a></li><li id="fn-2-85348e">Or <code>rr</code>, but we don&#x27;t have a gdb driver yet<a href="#fnref-2-85348e" class="footnote-backref">â†©</a></li><li id="fn-3-85348e">You can pan with click-and-drag (or three finger drag on macOS), scroll to zoom; we also have (x, y) coordinates: x-axis is the depth, y-axis is the breadth in the tree<a href="#fnref-3-85348e" class="footnote-backref">â†©</a></li><li id="fn-4-85348e">Sometimes the function prologue is wrong and FireDBG currently has some logic to guess the prologue<a href="#fnref-4-85348e" class="footnote-backref">â†©</a></li><li id="fn-5-85348e">Many; maybe in the next version we will abandon debug symbols altogether<a href="#fnref-5-85348e" class="footnote-backref">â†©</a></li><li id="fn-6-85348e">They are not interpreted on serialization; only on deserialization which is the job of the indexer<a href="#fnref-6-85348e" class="footnote-backref">â†©</a></li><li id="fn-7-85348e">If we have a MySQL backend, a single recursive CTE query can reconstruct the call chain of a given frame<a href="#fnref-7-85348e" class="footnote-backref">â†©</a></li><li id="fn-8-85348e"><em>Probably</em><a href="#fnref-8-85348e" class="footnote-backref">â†©</a></li><li id="fn-9-85348e">We can probably make one for <a href="https://lispcookbook.github.io/cl-cookbook/debugging.html#trace" target="_blank" rel="noopener noreferrer">Lisp</a> too<a href="#fnref-9-85348e" class="footnote-backref">â†©</a></li></ol></div></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/news/">news</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/SeaQL/firedbg.sea-ql.org/edit/main/FireDBG/blog/blog/2023-12-11-architecture-of-firedbg.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2023-12-12-introducing-firedbg/"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Introducing FireDBG for Rust</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#under-the-hood-of-firedbg" class="table-of-contents__link toc-highlight">Under the hood of FireDBG</a><ul><li><a href="#firedbg-cli" class="table-of-contents__link toc-highlight"><code>firedbg-cli</code></a></li><li><a href="#parser" class="table-of-contents__link toc-highlight"><code>parser</code></a></li><li><a href="#debugger" class="table-of-contents__link toc-highlight"><code>debugger</code></a></li><li><a href="#indexer" class="table-of-contents__link toc-highlight"><code>indexer</code></a></li></ul></li><li><a href="#mode-of-operation" class="table-of-contents__link toc-highlight">Mode of operation</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#static-analysis" class="table-of-contents__link toc-highlight">Static Analysis</a></li><li><a href="#runtime-debugging" class="table-of-contents__link toc-highlight">Runtime Debugging</a></li><li><a href="#value-capture" class="table-of-contents__link toc-highlight">Value Capture</a></li><li><a href="#event-index" class="table-of-contents__link toc-highlight">Event Index</a></li></ul></li><li><a href="#parallelism" class="table-of-contents__link toc-highlight">Parallelism</a></li><li><a href="#support-for-other-languages" class="table-of-contents__link toc-highlight">Support for other languages</a><ul><li><a href="#pure-functional-languages" class="table-of-contents__link toc-highlight">Pure functional languages</a></li></ul></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/SeaQL/FireDBG.for.Rust/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.com/invite/uCPdDXzbdv" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/sea_ql" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/about-us/">About Us</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/eula/">EULA</a></li><li class="footer__item"><a class="footer__link-item" href="/privacy/">Privacy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 SeaQL.org</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5bb9c14b.js"></script>
<script src="/assets/js/main.e472afdc.js"></script>
</body>
</html>